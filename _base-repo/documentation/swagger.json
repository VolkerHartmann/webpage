{"openapi":"3.0.1","info":{"title":"Repository Microservice - RESTful API","description":"This webpage describes the RESTful interface of the KIT Data Manager Repository Microservice.","contact":{"name":"KIT Data Manager Support","url":"https://github.com/kit-data-manager","email":"support@datamanager.kit.edu"},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"},"version":"0.1"},"servers":[{"url":"http://localhost:8081","description":"Generated server url"}],"paths":{"/api/v1/dataresources/{prefix}/{suffix}":{"get":{"tags":["data-resource-controller"],"summary":"Get resource metadata by pid.","description":"Obtain metadata of a single resource by one of its persistent identifier. This endpoint is used to access resources with a PID (prefix/suffix) as identifier. If enabled, older versions of a resource can be accessed by providing the `version` query parameter. By default, the most recent version is returned. Versions are numbered sequentially starting at 1 and are returned in the `Resource-Version` header field.<br/>Furthermore, if enabled, authentication and authorization may restrict access to resources.","operationId":"getResourceByPid","parameters":[{"name":"prefix","in":"path","description":"The PID prefix.","required":true,"schema":{"type":"string"}},{"name":"suffix","in":"path","description":"The PID suffix.","required":true,"schema":{"type":"string"}},{"name":"version","in":"query","description":"The version of the resource.","required":false,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResource"}}}}},"security":[{"bearer-jwt":[]}]},"put":{"tags":["data-resource-controller"],"summary":"Replace a resource.","description":"Replace a resource by a new resource provided by the user.Putting a resource requires privileged access to the resource to patch or ADMIN permissions of the caller. Some resource fields might be protected and cannot be changed, e.g. the unique identifier. If at least one protected field in the new resource does not match with the current value, HTTP BAD_REQUEST will be returned before persisting the result.Attention: Due to the availability of PATCH, PUT support is optional! If a resource won't provide PUT support, HTTP NOT_IMPLEMENTED is returned.","operationId":"updateResourcePid","parameters":[{"name":"prefix","in":"path","description":"The pid prefix.","required":true,"schema":{"type":"string"}},{"name":"suffix","in":"path","description":"The pid suffix.","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResource"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/hal+json":{"schema":{"type":"string"}}}}},"security":[{"bearer-jwt":[]}]},"delete":{"tags":["data-resource-controller"],"summary":"Delete a resource by pid.","description":"Delete a single resource. Deleting a resource typically requires the caller to have ADMIN permissions. In some cases, deleting a resource can also be available for the owner or other privileged users or can be forbidden. For resources whose deletion may affect other resources or internal workflows, physical deletion might not be possible at all. In those cases, the resource might be disabled/hidden but not removed from the database. This can then happen optionally at a later point in time, either automatically or manually.","operationId":"deleteResourcePid","parameters":[{"name":"prefix","in":"path","description":"The pid prefix.","required":true,"schema":{"type":"string"}},{"name":"suffix","in":"path","description":"The pid suffix.","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/hal+json":{"schema":{"type":"string"}}}}},"security":[{"bearer-jwt":[]}]},"patch":{"tags":["data-resource-controller"],"summary":"Patch a resource by pid.","description":"Patch a single or multiple fields of a resource. Patching information are provided in JSON Patch format using Content-Type 'application/json-patch+json'. Patching a resource requires privileged access to the resource to patch or ADMIN permissions of the caller. Depending on the resource, single fields might be protected and cannot be changed, e.g. the unique identifier. If the patch tries to modify a protected field, HTTP BAD_REQUEST will be returned before persisting the result.","operationId":"patchResourcePid","parameters":[{"name":"prefix","in":"path","description":"The pid prefix.","required":true,"schema":{"type":"string"}},{"name":"suffix","in":"path","description":"The pid suffix.","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json-patch+json":{"schema":{"$ref":"#/components/schemas/JsonPatch"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/hal+json":{"schema":{"type":"string"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/dataresources/{id}":{"get":{"tags":["data-resource-controller"],"summary":"Get resource metadata by id.","description":"Obtain metadata of a single resource by one of its identifiers. This identifier can be either the internal identifier, the primary identifier or one of the resource's alternate identifiers. The provided identifier must be properly URL-encoded. If enabled, older versions of a resource can be accessed by providing the `version` query parameter. By default, the most recent version is returned. Versions are numbered sequentially starting at 1 and are returned in the `Resource-Version` header field.<br/>Furthermore, if enabled, authentication and authorization may restrict access to resources.","operationId":"getResourceById","parameters":[{"name":"id","in":"path","description":"The resource identifier.","required":true,"schema":{"type":"string"}},{"name":"version","in":"query","description":"The version of the resource.","required":false,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResource"}}}}},"security":[{"bearer-jwt":[]}]},"put":{"tags":["data-resource-controller"],"summary":"Replace a resource.","description":"Replace a resource by a new resource provided by the user.Putting a resource requires privileged access to the resource to patch or ADMIN permissions of the caller. Some resource fields might be protected and cannot be changed, e.g. the unique identifier. If at least one protected field in the new resource does not match with the current value, HTTP BAD_REQUEST will be returned before persisting the result.Attention: Due to the availability of PATCH, PUT support is optional! If a resource won't provide PUT support, HTTP NOT_IMPLEMENTED is returned.","operationId":"updateResource","parameters":[{"name":"id","in":"path","description":"The resource identifier.","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResource"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/hal+json":{"schema":{"type":"string"}}}}},"security":[{"bearer-jwt":[]}]},"delete":{"tags":["data-resource-controller"],"summary":"Delete a resource by id.","description":"Delete a single resource. Deleting a resource typically requires the caller to have ADMIN permissions. In some cases, deleting a resource can also be available for the owner or other privileged users or can be forbidden. For resources whose deletion may affect other resources or internal workflows, physical deletion might not be possible at all. In those cases, the resource might be disabled/hidden but not removed from the database. This can then happen optionally at a later point in time, either automatically or manually.","operationId":"deleteResource","parameters":[{"name":"id","in":"path","description":"The resource identifier.","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/hal+json":{"schema":{"type":"string"}}}}},"security":[{"bearer-jwt":[]}]},"patch":{"tags":["data-resource-controller"],"summary":"Patch a resource by id.","description":"Patch a single or multiple fields of a resource. Patching information are provided in JSON Patch format using Content-Type 'application/json-patch+json'. Patching a resource requires privileged access to the resource to patch or ADMIN permissions of the caller. Depending on the resource, single fields might be protected and cannot be changed, e.g. the unique identifier. If the patch tries to modify a protected field, HTTP BAD_REQUEST will be returned before persisting the result.","operationId":"patchResource","parameters":[{"name":"id","in":"path","description":"The resource identifier.","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json-patch+json":{"schema":{"$ref":"#/components/schemas/JsonPatch"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/hal+json":{"schema":{"type":"string"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/dataresources/{prefix}/{suffix}/data/**":{"get":{"tags":["data-resource-controller"],"summary":"Access content or content metadata.","description":"Obtain content metadata or download content, depending on the provided `Accept` header.By providing 'application/vnd.datamanager.content-information+json', only content metadata is returned, optionally in a sorted and paginated way.If no `Accept` header is present, the content at the adressed path is downloaded instead.<br/>The content path, defining whether one or more content (metadata) element(s) is/are returned, is provided within the request URL. Everything after 'data/' is expected to be either a virtual folder or single content element. If the provided content path ends with a slash, it is expected to represent a virtual collection which should be listed or downloaded. If the content path does not end with a slash, it is expected to refer to a single content element. If no content exists at the provided path, HTTP NOT_FOUND is returned. <br/>While accessing content metadata, the user may provide custom sorting criteria for ordering the returned elements. If no sorting criteria is provided, the default sorting is applied returning all matching elements in ascending order by hierarchy depth and alphabetically by their relative path.<br/>If configured, this endpoint also supports versioning for both, data and metadata. This only applied while accessing single elements. By default, the most recent version of a content or content metadata element are returned. To obtain a previous version, the `version` query parameter can be provided. Versions are numbered sequentially starting at 1 and are returned in the `Resource-Version` header field.","operationId":"getContentMetadata_1","parameters":[{"name":"prefix","in":"path","description":"The pid prefix.","required":true,"schema":{"type":"string"}},{"name":"suffix","in":"path","description":"The pid suffix.","required":true,"schema":{"type":"string"}},{"name":"version","in":"query","description":"The resource version to access.","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"tag","in":"query","description":"A single tag assigned to certain content elements.","required":false,"schema":{"type":"string"}},{"name":"page","in":"query","description":"Zero-based page index (0..N)","schema":{"type":"integer","default":0}},{"name":"size","in":"query","description":"The size of the page to be returned","schema":{"type":"integer","default":20}},{"name":"sort","in":"query","description":"Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.","schema":{"type":"array","items":{"type":"string"}}}],"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK"}},"security":[{"bearer-jwt":[]}]},"post":{"tags":["data-resource-controller"],"summary":"Assign content to a resource.","description":"This endpoint allows to upload or assign data and content metadata to the resource with the given id. Uploaded data will be stored at the configured backend, typically the local hard disk. Furthermore, it is possible to register data by reference by manually providing a content URI in the content metadata.<br/>In any other case, providing content metadata is optional. Parts of the content metadata, e.g. content type or checksum, may be generated or overwritten after a file upload if they not already exist or if the configuration does not allow the user to provide particular content metadata entries, e.g. because a certain checksum digest is mandatory.<br/>All uploaded data can be virtually structured by providing the relative path where they should be accessible within the request URL. If a file at a given path already exists, HTTP CONFLICT will be returned unless overwriting is requested by setting the query parameter 'force' to true. In that case, the existing file will be marked for deletion and is deleted after successful upload. If the overwritten element only contains a reference URI, the entry is directly replaced by the user provided entry.","operationId":"uploadContentPid","parameters":[{"name":"prefix","in":"path","description":"The pid prefix.","required":true,"schema":{"type":"string"}},{"name":"suffix","in":"path","description":"The pid suffix.","required":true,"schema":{"type":"string"}},{"name":"force","in":"query","description":"Flag to indicate, that existing content at the same location should be overwritten.","required":false,"schema":{"type":"boolean","default":false}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","description":"The file to upload. If no file is provided, a metadata document containing a reference URI to the externally hosted data is mandatory.","format":"binary"},"metadata":{"type":"string","description":"Json representation of a content information metadata document. Providing this metadata document is optional unless no file is uploaded.","format":"binary"}}}}}},"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/hal+json":{"schema":{"type":"string"}}}}},"security":[{"bearer-jwt":[]}]},"delete":{"tags":["data-resource-controller"],"summary":"Remove content from a resource.","description":"This endpoint allows to remove single content elements from a data resource. It is NOT possible to remove multiple elements in one call, e.g., by providing a path ending with a slash. Furthermore, providing an `If-Match` header including the current ETag of the content element is required.<br/>If authentication and authorization is enabled, temoving content is restricted to privileged users, e.g. user with role ADMINISTRATOR or permission ADMINISTRATE for the parent resource.","operationId":"deleteContentPid","parameters":[{"name":"prefix","in":"path","description":"The pid prefix.","required":true,"schema":{"type":"string"}},{"name":"suffix","in":"path","description":"The pid suffix.","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/hal+json":{"schema":{"type":"string"}}}}}},"patch":{"tags":["data-resource-controller"],"summary":"Patch content metadata.","description":"This endpoint allows to patch single content metadata document associated with a data resource. Therefor, an RFC-6902 compliant patch document must be provided within the request body.Furthermore, providing an `If-Match` header including the current ETag of the content element is required.As most of the content metadata attributes are typically automatically generated, their modification is restricted to privileged users, e.g. user with role ADMINISTRATOR or permission ADMINISTRATE for the parent resource. Users having WRITE permissions to the associated resource are only allowed to modify the properties `metadata` and `tags`.<br/>Both restrictions only apply if authentication and authorization is enabled.","operationId":"patchContentMetadataPid","parameters":[{"name":"prefix","in":"path","description":"The pid prefix.","required":true,"schema":{"type":"string"}},{"name":"suffix","in":"path","description":"The pid suffix.","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json-patch+json":{"schema":{"$ref":"#/components/schemas/JsonPatch"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/hal+json":{"schema":{"type":"string"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/dataresources/{id}/data/**":{"get":{"tags":["data-resource-controller"],"summary":"Access content or content metadata.","description":"Obtain content metadata or download content, depending on the provided `Accept` header.By providing 'application/vnd.datamanager.content-information+json', only content metadata is returned, optionally in a sorted and paginated way.If no `Accept` header is present, the content at the adressed path is downloaded instead.<br/>The content path, defining whether one or more content (metadata) element(s) is/are returned, is provided within the request URL. Everything after 'data/' is expected to be either a virtual folder or single content element. If the provided content path ends with a slash, it is expected to represent a virtual collection which should be listed or downloaded. If the content path does not end with a slash, it is expected to refer to a single content element. If no content exists at the provided path, HTTP NOT_FOUND is returned. <br/>While accessing content metadata, the user may provide custom sorting criteria for ordering the returned elements. If no sorting criteria is provided, the default sorting is applied returning all matching elements in ascending order by hierarchy depth and alphabetically by their relative path.<br/>If configured, this endpoint also supports versioning for both, data and metadata. This only applied while accessing single elements. By default, the most recent version of a content or content metadata element are returned. To obtain a previous version, the `version` query parameter can be provided. Versions are numbered sequentially starting at 1 and are returned in the `Resource-Version` header field.","operationId":"getContentMetadata_2","parameters":[{"name":"id","in":"path","description":"The resource identifier.","required":true,"schema":{"type":"string"}},{"name":"version","in":"query","description":"The resource version to access.","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"tag","in":"query","description":"A single tag assigned to certain content elements.","required":false,"schema":{"type":"string"}},{"name":"page","in":"query","description":"Zero-based page index (0..N)","schema":{"type":"integer","default":0}},{"name":"size","in":"query","description":"The size of the page to be returned","schema":{"type":"integer","default":20}},{"name":"sort","in":"query","description":"Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.","schema":{"type":"array","items":{"type":"string"}}}],"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK"}},"security":[{"bearer-jwt":[]}]},"post":{"tags":["data-resource-controller"],"summary":"Assign content to a resource.","description":"This endpoint allows to upload or assign data and content metadata to the resource with the given id. Uploaded data will be stored at the configured backend, typically the local hard disk. Furthermore, it is possible to register data by reference by manually providing a content URI in the content metadata.<br/>In any other case, providing content metadata is optional. Parts of the content metadata, e.g. content type or checksum, may be generated or overwritten after a file upload if they not already exist or if the configuration does not allow the user to provide particular content metadata entries, e.g. because a certain checksum digest is mandatory.<br/>All uploaded data can be virtually structured by providing the relative path where they should be accessible within the request URL. If a file at a given path already exists, HTTP CONFLICT will be returned unless overwriting is requested by setting the query parameter 'force' to true. In that case, the existing file will be marked for deletion and is deleted after successful upload. If the overwritten element only contains a reference URI, the entry is directly replaced by the user provided entry.","operationId":"uploadContent","parameters":[{"name":"id","in":"path","description":"The resource identifier.","required":true,"schema":{"type":"string"}},{"name":"force","in":"query","description":"Flag to indicate, that existing content at the same location should be overwritten.","required":false,"schema":{"type":"boolean","default":false}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","description":"The file to upload. If no file is provided, a metadata document containing a reference URI to the externally hosted data is mandatory.","format":"binary"},"metadata":{"type":"string","description":"Json representation of a content information metadata document. Providing this metadata document is optional unless no file is uploaded.","format":"binary"}}}}}},"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/hal+json":{"schema":{"type":"string"}}}}},"security":[{"bearer-jwt":[]}]},"delete":{"tags":["data-resource-controller"],"summary":"Remove content from a resource.","description":"This endpoint allows to remove single content elements from a data resource. It is NOT possible to remove multiple elements in one call, e.g., by providing a path ending with a slash. Furthermore, providing an `If-Match` header including the current ETag of the content element is required.<br/>If authentication and authorization is enabled, temoving content is restricted to privileged users, e.g. user with role ADMINISTRATOR or permission ADMINISTRATE for the parent resource.","operationId":"deleteContent","parameters":[{"name":"id","in":"path","description":"The resource identifier.","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/hal+json":{"schema":{"type":"string"}}}}}},"patch":{"tags":["data-resource-controller"],"summary":"Patch content metadata.","description":"This endpoint allows to patch single content metadata document associated with a data resource. Therefor, an RFC-6902 compliant patch document must be provided within the request body.Furthermore, providing an `If-Match` header including the current ETag of the content element is required.As most of the content metadata attributes are typically automatically generated, their modification is restricted to privileged users, e.g. user with role ADMINISTRATOR or permission ADMINISTRATE for the parent resource. Users having WRITE permissions to the associated resource are only allowed to modify the properties `metadata` and `tags`.<br/>Both restrictions only apply if authentication and authorization is enabled.","operationId":"patchContentMetadata","parameters":[{"name":"id","in":"path","description":"The resource identifier.","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json-patch+json":{"schema":{"$ref":"#/components/schemas/JsonPatch"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/hal+json":{"schema":{"type":"string"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/dataresources/search":{"post":{"tags":["data-resource-controller"],"summary":"List resources by example.","description":"List all resources in a paginated and/or sorted form by example using an example document provided in the request body. The example is a normal instance of the resource. However, search-relevant top level primitives are marked as 'Searchable' within the implementation. For string values, '%' can be used as wildcard character. If the example document is omitted, the response is identical to listing all resources with the same pagination parameters. As well as listing of all resources, the number of total results might be affected by the caller's role.","operationId":"findResources","parameters":[{"name":"from","in":"query","description":"The UTC time of the earliest update of a returned resource.","required":false,"schema":{"type":"string","format":"date-time"},"example":"2017-05-10T10:41:00Z"},{"name":"until","in":"query","description":"The UTC time of the latest update of a returned resource.","required":false,"schema":{"type":"string","format":"date-time"},"example":"2017-05-10T10:41:00Z"},{"name":"page","in":"query","description":"Zero-based page index (0..N)","schema":{"type":"integer","default":0}},{"name":"size","in":"query","description":"The size of the page to be returned","schema":{"type":"integer","default":20}},{"name":"sort","in":"query","description":"Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.","schema":{"type":"array","items":{"type":"string"}}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResource"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/hal+json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DataResource"}}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/dataresources/search/data":{"post":{"tags":["data-resource-controller"],"summary":"Search content metadata.","description":"Search for content metadata in a paginated and/or sorted form by example using an example content metadata document provided in the request body. Searchable properties are: `parentResource.id`, `relativePath`, `contentUri`, `mediaType`, `metadata` and `tags`.For string values, '%' can be used as wildcard character.<br/>If the example document is omitted, the response is identical to listing all resources. If enabled, authentication and authorization my affect the number of returned elements depending on the permission on the element's parent resource.","operationId":"findContentMetadata","parameters":[{"name":"page","in":"query","description":"Zero-based page index (0..N)","schema":{"type":"integer","default":0}},{"name":"size","in":"query","description":"The size of the page to be returned","schema":{"type":"integer","default":20}},{"name":"sort","in":"query","description":"Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.","schema":{"type":"array","items":{"type":"string"}}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContentInformation"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/hal+json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ContentInformation"}}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/dataresources/":{"get":{"tags":["data-resource-controller"],"summary":"List all resources and return them in a format supported by the Tabulator.js library.","description":"List all resources in a paginated and/or sorted form. Possible queries are: listing with default values (X elements on first page sorted by database), listing page wise, sorted query page wise, and combinations of the options above. The total number of resources may differ between calls if single resources have access restrictions. Furthermore, anonymous listing of resources may or may not be supported.","operationId":"listResourcesForTabulator_1","parameters":[{"name":"from","in":"query","description":"The UTC time of the earliest update of a returned resource.","required":false,"schema":{"type":"string","format":"date-time"},"example":"2017-05-10T10:41:00Z"},{"name":"until","in":"query","description":"The UTC time of the latest update of a returned resource.","required":false,"schema":{"type":"string","format":"date-time"},"example":"2017-05-10T10:41:00Z"},{"name":"page","in":"query","description":"Zero-based page index (0..N)","schema":{"type":"integer","default":0}},{"name":"size","in":"query","description":"The size of the page to be returned","schema":{"type":"integer","default":20}},{"name":"sort","in":"query","description":"Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.","schema":{"type":"array","items":{"type":"string"}}}],"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/hal+json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DataResource"}}}}}},"security":[{"bearer-jwt":[]}]},"post":{"tags":["data-resource-controller"],"summary":"Create a new resource.","description":"Create a new resource with the given JSON representation. While many properties are optional, there are also some mandatory properties which have to be provided, i.e., at least one Title and the ResourceType. Other mandatory elements, i.e., a Creator, publicationYear and publisher, are automatically assigned if not provided.<br/>If enabled, authentication and authorization may restrict creation to existing users.","operationId":"createResource","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResource"}},"application/vnd.datacite.org+json":{"schema":{"$ref":"#/components/schemas/DataResource"}},"application/vnd.zenodo.org+json":{"schema":{"$ref":"#/components/schemas/DataResource"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/hal+json":{"schema":{"$ref":"#/components/schemas/DataResource"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/audit/{id}":{"get":{"tags":["data-resource-audit-controller"],"summary":"Get audit information for a single resource.","description":"List audit information for a resource in a paginated form. Sorting can be supported but is optional. If no sorting is supported it is recommended to return audit information sorted by version number in descending order. This endpoint is addressed if the caller provides content type 'application/vnd.datamanager.audit+json' within the 'Accept' header. If no audit support is enabled or no audit information are available for a certain resource, an empty result should be returned. ","operationId":"getAuditInformation","parameters":[{"name":"id","in":"path","description":"The resource identifier.","required":true,"schema":{"type":"string"}},{"name":"pgbl","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}},{"name":"page","in":"query","description":"Zero-based page index (0..N)","schema":{"type":"integer","default":0}},{"name":"size","in":"query","description":"The size of the page to be returned","schema":{"type":"integer","default":20}},{"name":"sort","in":"query","description":"Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.","schema":{"type":"array","items":{"type":"string"}}}],"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/vnd.datamanager.audit+json":{"schema":{"type":"string"}}}}}}},"/api/v1/audit/{id}/data/**":{"get":{"tags":["data-resource-audit-controller"],"summary":"Access audit information for a single content information resource.","description":"List audit information for a content information resource in a paginated form. Sorting can be supported but is optional. If no sorting is supported it is recommended to return audit information sorted by version number in descending order. This endpoint is addressed if the caller provides content type 'application/vnd.datamanager.audit+json' within the 'Accept' header. If no audit support is enabled or no audit information are available for a certain resource, an empty result should be returned.","operationId":"getContentAuditInformation","parameters":[{"name":"id","in":"path","description":"The resource identifier.","required":true,"schema":{"type":"string"}},{"name":"pgbl","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"400":{"description":"Bad Request","content":{"application/hal+json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/vnd.datamanager.audit+json":{"schema":{"type":"string"}}}}},"security":[{"bearer-jwt":[]}]}}},"components":{"schemas":{"AclEntry":{"required":["sid"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"sid":{"type":"string"},"permission":{"type":"string","enum":["PERMISSION_NONE","PERMISSION_READ","PERMISSION_WRITE","PERMISSION_ADMINISTRATE"]}}},"Agent":{"type":"object","properties":{"id":{"type":"integer","format":"int64","readOnly":true},"familyName":{"type":"string","description":"Family name of the user.","example":"Doe"},"givenName":{"type":"string","description":"Given name of the user.","example":"John"},"affiliations":{"uniqueItems":true,"type":"array","description":"Affiliation of the user, e.g. home institution.","example":"Karlsruhe Institute of Techology","items":{"type":"string","description":"Affiliation of the user, e.g. home institution.","example":"Karlsruhe Institute of Techology"}}},"description":"An agent related to the creation or modification of a resource, e.g. the creator or a contributor."},"Box":{"required":["eastLongitude","northLatitude","southLatitude","westLongitude"],"type":"object","properties":{"id":{"type":"integer","format":"int64","readOnly":true},"westLongitude":{"type":"number","description":"-67.302","format":"float"},"eastLongitude":{"type":"number","description":"-67.302","format":"float"},"southLatitude":{"type":"number","description":"31.233","format":"float"},"northLatitude":{"type":"number","description":"31.233","format":"float"}},"description":"Geo location information as box."},"Contributor":{"required":["contributionType","user"],"type":"object","properties":{"id":{"type":"integer","format":"int64","readOnly":true},"user":{"$ref":"#/components/schemas/Agent"},"contributionType":{"type":"string","description":"Controlled vocabulary value describing the contribution type, e.g. Producer.","enum":["CONTACT_PERSON","DATA_COLLECTOR","DATA_CURATOR","DATA_MANAGER","DISTRIBUTOR","EDITOR","HOSTING_INSTITUTION","OTHER","PRODUCER","PROJECT_LEADER","PROJECT_MANAGER","PROJECT_MEMBER","REGISTRATION_AGENCY","REGISTRATION_AUTHORITY","RELATED_PERSON","RESEARCH_GROUP","RIGHTS_HOLDER","RESEARCHER","SPONSOR","SUPERVISOR","WORK_PACKAGE_LEADER"]}},"description":"A contributor to a resource."},"DataResource":{"required":["creators","embargoDate","identifier","lastUpdate","publicationYear","publisher","resourceType","titles"],"type":"object","properties":{"id":{"type":"string","readOnly":true},"identifier":{"$ref":"#/components/schemas/PrimaryIdentifier"},"creators":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/Agent"}},"titles":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/Title"}},"publisher":{"type":"string","description":"Publisher, e.g. institution","example":"Karlsruhe Institute of Technology"},"publicationYear":{"type":"string","description":"Publication year (could be aquisition year, if publication year is not feasible)","example":"2017"},"resourceType":{"$ref":"#/components/schemas/ResourceType"},"subjects":{"uniqueItems":true,"type":"array","description":"One or more subjects describing the resource (recommended).","items":{"$ref":"#/components/schemas/Subject"}},"contributors":{"uniqueItems":true,"type":"array","description":"One or more contributors that have contributed to the resource (recommended).","items":{"$ref":"#/components/schemas/Contributor"}},"dates":{"uniqueItems":true,"type":"array","description":"One or more dates related to the resource, e.g. creation or publication date (recommended).","items":{"$ref":"#/components/schemas/Date"}},"relatedIdentifiers":{"uniqueItems":true,"type":"array","description":"One or more related identifiers the can be used to identify related resources, e.g. metadata, parts or derived resources (recommended).","items":{"$ref":"#/components/schemas/RelatedIdentifier"}},"descriptions":{"uniqueItems":true,"type":"array","description":"One or more description entries providing additional information, e.g. abstract or technical information (recommended).","items":{"$ref":"#/components/schemas/Description"}},"geoLocations":{"uniqueItems":true,"type":"array","description":"One or more geolocation entries providing information about the location of the resource, e.g. storage or aquisition location (recommended).","items":{"$ref":"#/components/schemas/GeoLocation"}},"language":{"type":"string","description":"The primary language of the resource. Possible codes are IETF BCP 47 or ISO 639-1.","example":"en, de, fr"},"alternateIdentifiers":{"uniqueItems":true,"type":"array","description":"One or more alternate identifiers the can be used to identify the resources in addition to the primary identifier.","items":{"$ref":"#/components/schemas/Identifier"}},"sizes":{"uniqueItems":true,"type":"array","description":"Unstructured size information about the resource or its contents.","example":"15 files, 10 page, 100 bytes","items":{"type":"string","description":"Unstructured size information about the resource or its contents.","example":"15 files, 10 page, 100 bytes"}},"formats":{"uniqueItems":true,"type":"array","description":"Format information about the resource or its contents. Preferably, mime types or file extensions are used.","example":"text/plain, xml, application/pdf","items":{"type":"string","description":"Format information about the resource or its contents. Preferably, mime types or file extensions are used.","example":"text/plain, xml, application/pdf"}},"version":{"type":"string","description":"Version of the resource, e.g. major.minor.","example":"1.0"},"rights":{"uniqueItems":true,"type":"array","description":"Intellectual property information.","items":{"$ref":"#/components/schemas/Scheme"}},"fundingReferences":{"uniqueItems":true,"type":"array","description":"Funding information, e.g. funder, award number and title.","items":{"$ref":"#/components/schemas/FundingReference"}},"lastUpdate":{"type":"string","description":"Date at which the last update occured.","format":"date-time","example":"2017-05-10T10:41:00Z"},"state":{"type":"string","description":"State information of the resource. After creation each resource is classified as VOLATILE","enum":["VOLATILE","FIXED","REVOKED","GONE"]},"embargoDate":{"type":"string","description":"Date at which the embargo ends, e.g. after which the resource is published.","format":"date-time","example":"2017-05-10T10:41:00Z"},"acls":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/AclEntry"}}},"description":"Json representation of the resource to create."},"Date":{"required":["type","value"],"type":"object","properties":{"id":{"type":"integer","format":"int64","readOnly":true},"value":{"type":"string","description":"The actual date of the entry.","format":"date-time","example":"2017-05-10T10:41:00Z"},"type":{"type":"string","description":"Controlled vocabulary value describing the date type.","enum":["ACCEPTED","AVAILABLE","COLLECTED","COPYRIGHTED","CREATED","ISSUED","SUBMITTED","UPDATED","VALID","REVOKED"]}},"description":"A data entry of a resource."},"Description":{"required":["description","type"],"type":"object","properties":{"id":{"type":"integer","format":"int64","readOnly":true},"description":{"type":"string","description":"The actual description as full text."},"type":{"type":"string","description":"Controlled vocabulary value describing the description type.","enum":["ABSTRACT","METHODS","SERIES_INFORMATION","TABLE_OF_CONTENTS","TECHNICAL_INFO","OTHER"]},"lang":{"type":"string","description":"Description language."}},"description":"A description entry of a resource."},"FunderIdentifier":{"required":["value"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"value":{"type":"string"},"identifierType":{"type":"string","enum":["ARK","AR_XIV","BIBCODE","DOI","EAN_13","EISSN","HANDLE","IGSN","ISBN","ISSN","ISTC","LISSN","LSID","PMID","PURL","UPC","URL","URN","W_3_ID","INTERNAL","OTHER"]},"type":{"type":"string","enum":["ISNI","GRID","CROSSREF_FUNDER_ID","OTHER"]}}},"FundingReference":{"required":["funderName"],"type":"object","properties":{"id":{"type":"integer","format":"int64","readOnly":true},"funderName":{"type":"string"},"funderIdentifier":{"$ref":"#/components/schemas/FunderIdentifier"},"awardNumber":{"$ref":"#/components/schemas/Scheme"},"awardUri":{"type":"string"},"awardTitle":{"type":"string"}},"description":"A resource's funding information."},"GeoLocation":{"type":"object","properties":{"id":{"type":"integer","format":"int64","readOnly":true},"point":{"$ref":"#/components/schemas/Point"},"box":{"$ref":"#/components/schemas/Box"},"polygon":{"$ref":"#/components/schemas/Polygon"},"place":{"type":"string"}},"description":"Geo location information for a resource."},"Identifier":{"required":["value"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"value":{"type":"string"},"identifierType":{"type":"string","enum":["ARK","AR_XIV","BIBCODE","DOI","EAN_13","EISSN","HANDLE","IGSN","ISBN","ISSN","ISTC","LISSN","LSID","PMID","PURL","UPC","URL","URN","W_3_ID","INTERNAL","OTHER"]}},"description":"One or more alternate identifiers the can be used to identify the resources in addition to the primary identifier."},"Point":{"required":["latitude","longitude"],"type":"object","properties":{"id":{"type":"integer","format":"int64","readOnly":true},"longitude":{"type":"number","format":"float"},"latitude":{"type":"number","format":"float"}},"description":"Geo location information as point."},"Polygon":{"required":["points"],"type":"object","properties":{"id":{"type":"integer","format":"int64","readOnly":true},"points":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/Point"}}},"description":"Geo location information as polygon. A polygon must consist of 4 or more points."},"PrimaryIdentifier":{"required":["value"],"type":"object","properties":{"id":{"type":"integer","format":"int64","readOnly":true},"value":{"type":"string","example":"10.1234/foo"},"identifierType":{"type":"string"}}},"RelatedIdentifier":{"required":["identifierType","relationType","value"],"type":"object","properties":{"id":{"type":"integer","format":"int64","readOnly":true},"identifierType":{"type":"string","description":"Controlled vocabulary, e.g. INTERNAL or DOI.","enum":["ARK","AR_XIV","BIBCODE","DOI","EAN_13","EISSN","HANDLE","IGSN","ISBN","ISSN","ISTC","LISSN","LSID","PMID","PURL","UPC","URL","URN","W_3_ID","INTERNAL","OTHER"]},"value":{"type":"string","description":"10.1234/foo"},"relationType":{"type":"string","description":"Controlled vocabulary value describing the relation type, e.g. IS_PART_OF or IS_METADATA_FOR.","enum":["IS_CITED_BY","CITES","IS_SUPPLEMENT_TO","IS_SUPPLEMENTED_BY","IS_CONTINUED_BY","CONTINUES","IS_NEW_VERSION_OF","IS_PREVIOUS_VERSION_OF","IS_PART_OF","HAS_PART","IS_REFERENCED_BY","REFERENCES","IS_DOCUMENTED_BY","DOCUMENTS","IS_COMPILED_BY","COMPILES","IS_VARIANT_FORM_OF","IS_ORIGINAL_FORM_OF","IS_IDENTICAL_TO","HAS_METADATA","IS_METADATA_FOR","REVIEWS","IS_REVIEWED_BY","IS_DERIVED_FROM","IS_SOURCE_OF","IS_VERSION_OF","HAS_VERSION","ISCITEDBY","ISSUPPLEMENTTO","ISSUPPLEMENTEDBY","ISCONTINUEDBY","ISNEWVERSIONOF","ISPREVIOUSVERSIONOF","ISPARTOF","HASPART","ISREFERENCEDBY","ISDOCUMENTEDBY","ISCOMPILEDBY","ISVARIANTFORMOF","ISORIGINALFORMOF","ISIDENTICALTO","HASMETADATA","ISMETADATAFOR","ISREVIEWEDBY","ISDERIVEDFROM","ISSOURCEOF","ISVERSIONOF","HASVERSION"]},"scheme":{"$ref":"#/components/schemas/Scheme"},"relatedMetadataScheme":{"type":"string","description":"Related metadata scheme."}},"description":"A related identifier for a resource."},"ResourceType":{"required":["typeGeneral","value"],"type":"object","properties":{"id":{"type":"integer","format":"int64","readOnly":true},"value":{"type":"string","description":"Measurement Data"},"typeGeneral":{"type":"string","example":"DATASET","enum":["AUDIOVISUAL","COLLECTION","DATASET","EVENT","IMAGE","INTERACTIVE_RESOURCE","MODEL","PHYSICAL_OBJECT","SERVICE","SOFTWARE","SOUND","TEXT","WORKFLOW","OTHER"]}},"description":"The type of a resource."},"Scheme":{"required":["schemeId"],"type":"object","properties":{"id":{"type":"integer","format":"int64","readOnly":true},"schemeId":{"type":"string","example":"ORCID"},"schemeUri":{"type":"string","example":"http://orcid.org/"}},"description":"A scheme mapping consisting of namespace (schemeId) and schemeUri."},"Subject":{"type":"object","properties":{"id":{"type":"integer","format":"int64","readOnly":true},"value":{"type":"string","description":"The subject value."},"scheme":{"$ref":"#/components/schemas/Scheme"},"valueUri":{"type":"string","example":"http://udcdata.info/037278"},"lang":{"type":"string","example":"en"}},"description":"A subject of a resource, which can either be free text or a value URI."},"Title":{"required":["value"],"type":"object","properties":{"id":{"type":"integer","format":"int64","readOnly":true},"value":{"type":"string","example":"My sample resource"},"titleType":{"type":"string","example":"SUBTITLE","enum":["ALTERNATIVE_TITLE","SUBTITLE","TRANSLATED_TITLE","OTHER"]},"lang":{"type":"string","example":"en"}},"description":"The title of a resource."},"ContentInformation":{"type":"object","properties":{"id":{"type":"integer","format":"int64","readOnly":true},"parentResource":{"$ref":"#/components/schemas/DataResource"},"relativePath":{"type":"string","description":"The relative path of this element under which the file content is accessible. The path is relative the the resource's 'data' url, e.g. http://hostname:port/api/v1/dataresources/resourceId/data/relativePath"},"version":{"type":"integer","description":"The version of the metadata of this element. The metadata version may differ from the fileVersion.","format":"int32"},"fileVersion":{"type":"string","description":"The version of the file, e.g. the bitstream, associated with this element. The file version may differ from the version, which related to the metadata."},"versioningService":{"type":"string","description":"Unqiue identifier of the versioning service under which this element is versioned (if configured)."},"depth":{"type":"integer","format":"int32","readOnly":true},"contentUri":{"type":"string","description":"The URI where the content is located, e.g. pointing to the remote resource or a local file."},"uploader":{"type":"string","description":"The uploader of this element."},"mediaType":{"type":"string","description":"The mediaType, either provided by the uploader or determined by the repository."},"hash":{"type":"string","description":"The hash of the associated content, either provided by the user (for remote resources) or computed during upload by the repository."},"size":{"type":"integer","description":"The size of the associated bit stream in bytes.","format":"int64"},"metadata":{"type":"object","additionalProperties":{"type":"string","description":"A key-value map containing additional metadata associated with this element."},"description":"A key-value map containing additional metadata associated with this element."},"tags":{"uniqueItems":true,"type":"array","description":"A list of tags (strings) associated with this element. If a resource has a tag assigned, the tag can be used to access this (and all resources with this tag) directly.","items":{"type":"string","description":"A list of tags (strings) associated with this element. If a resource has a tag assigned, the tag can be used to access this (and all resources with this tag) directly."}},"filename":{"type":"string"}},"description":"JSON representation of content metadata used as input for the search operation."},"JsonPatch":{"type":"object","description":"Json representation of a json patch document. The document must comply with RFC 6902 specified by the IETF."},"Pageable":{"type":"object","properties":{"page":{"minimum":0,"type":"integer","format":"int32"},"size":{"minimum":1,"type":"integer","format":"int32"},"sort":{"type":"array","items":{"type":"string"}}}}},"securitySchemes":{"bearer-jwt":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}
