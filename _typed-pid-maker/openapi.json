{"openapi":"3.0.1","info":{"title":"PIT Service - RESTful API","description":"The KIT DM 2.0 PIT Service is a service for obtaining and validating PID Infortion Types and Kernel Information Profiles, as defined by the Research Data Alliance.","contact":{"name":"KIT Data Manager Support","url":"https://github.com/kit-data-manager","email":"support@datamanager.kit.edu"},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"},"version":"0.1"},"servers":[{"url":"http://localhost:8090","description":"Generated server url"}],"paths":{"/api/v1/pit/profile/**":{"get":{"tags":["typing-rest-resource-impl"],"summary":"Get a profile","description":"Obtain the profile identified by the PID provided as the last path segment(s).","operationId":"getProfile","responses":{"404":{"description":"Not found","content":{"text/plain":{}}},"200":{"description":"Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TypeDefinition"}}}},"500":{"description":"Server error. See body for details.","content":{"text/plain":{}}}}},"head":{"tags":["typing-rest-resource-impl"],"summary":"PID matching profile?","description":"Check if the PID record accessible via the provided identifier is matching the profile provided as the last path segment(s). The check only includes the test for mandatory fields according to the profile. For in-depth tests endpoint /type/{identifier} should be used.","operationId":"isPidMatchingProfile","parameters":[{"name":"identifier","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"409":{"description":"Resource is NOT matching the type.","content":{"text/plain":{}}},"200":{"description":"Resource is matching the type.","content":{"text/plain":{}}},"500":{"description":"Server error. See body for details.","content":{"text/plain":{}}},"404":{"description":"Some resource (usually the given PID) could not be resolved.","content":{"text/plain":{}}}}}},"/api/v1/pit/pid/**":{"get":{"tags":["typing-rest-resource-impl"],"summary":"Get the record of the given PID.","description":"Get the record to the given PID, if it exists.","operationId":"getRecord","responses":{"404":{"description":"Not found","content":{"text/plain":{}}},"200":{"description":"Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PIDRecord"}}}}}},"put":{"tags":["typing-rest-resource-impl"],"summary":"Update an existing PID record","description":"Update an existing PID record using the record information from the request body.","operationId":"updatePID","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PIDRecord"}}}},"responses":{"409":{"description":"Validation failed (conflict). See body for details.","content":{"text/plain":{}}},"200":{"description":"Success.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PIDRecord"}}}},"500":{"description":"Server error. See body for details.","content":{"text/plain":{}}}}},"head":{"tags":["typing-rest-resource-impl"],"summary":"Check if the given PID exists.","description":"Check if the PID with the idenfifier provided as the last path segment(s) is registered and resolvable.The body will contain a short human readable string, notifying about the result.","operationId":"isPidRegistered","responses":{"404":{"description":"Not found","content":{"text/plain":{}}},"200":{"description":"Found","content":{"text/plain":{}}}}}},"/api/v1/pit/type/**":{"head":{"tags":["typing-rest-resource-impl"],"summary":"Resource matching type?","description":"Check if the resource accessible via the provided identifier is matching the type provided as the last path segment(s). The check includes the test if all mandatory properties are in the record as well as an in-depth tests of the single elements for matching the sub-type's schema.","operationId":"isResourceMatchingType","parameters":[{"name":"identifier","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"409":{"description":"Resource is NOT matching the type.","content":{"text/plain":{}}},"200":{"description":"Resource is matching the type.","content":{"text/plain":{}}},"500":{"description":"Server error. See body for details.","content":{"text/plain":{}}},"404":{"description":"Some resource (usually the given PID) could not be resolved.","content":{"text/plain":{}}}}}},"/api/v1/pit/pid/":{"post":{"tags":["typing-rest-resource-impl"],"summary":"Create a new PID record","description":"Create a new PID record using the record information from the request body.","operationId":"createPID","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PIDRecord"}}}},"responses":{"409":{"description":"Validation failed (conflict). See body for details.","content":{"text/plain":{}}},"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PIDRecord"}}}},"500":{"description":"Server error. See body for details.","content":{"text/plain":{}}}}}}},"components":{"schemas":{"Contributor":{"type":"object","properties":{"identifiedUsing":{"type":"string"},"name":{"type":"string"},"details":{"type":"string"}}},"ProvenanceInformation":{"type":"object","properties":{"contributors":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/Contributor"}},"creationDate":{"type":"string","format":"date-time"},"lastModificationDate":{"type":"string","format":"date-time"}}},"Schema":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"id":{"type":"string"},"schemaLocation":{"type":"string"},"location":{"$ref":"#/components/schemas/SchemaLocation"},"defaultValue":{"type":"object"},"nullable":{"type":"boolean"},"readOnly":{"type":"boolean"},"writeOnly":{"type":"boolean"},"unprocessedProperties":{"type":"object","additionalProperties":{"type":"object"}}}},"SchemaLocation":{"type":"object"},"TypeDefinition":{"type":"object","properties":{"name":{"type":"string"},"identifier":{"type":"string"},"description":{"type":"string"},"optional":{"type":"boolean"},"repeatable":{"type":"boolean"},"expression":{"type":"string"},"value":{"type":"string"},"jsonSchema":{"$ref":"#/components/schemas/Schema"},"provenance":{"$ref":"#/components/schemas/ProvenanceInformation"},"schema":{"type":"string","writeOnly":true},"properties":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/TypeDefinition"}}}},"PIDRecord":{"type":"object","properties":{"pid":{"type":"string"},"entries":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/PIDRecordEntry"}}}}},"PIDRecordEntry":{"type":"object","properties":{"key":{"type":"string"},"name":{"type":"string"},"value":{"type":"string"}}}},"securitySchemes":{"bearer-jwt":{"type":"http","name":"Authorization","in":"header","scheme":"bearer","bearerFormat":"JWT"}}}}